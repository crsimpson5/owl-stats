(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{320:function(e,a,t){e.exports=t(752)},325:function(e,a,t){},339:function(e,a){},341:function(e,a){},373:function(e,a){},374:function(e,a){},443:function(e,a){},578:function(e,a,t){},752:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(82),o=t.n(c),l=(t(325),t(280)),i=t(281),s=t(292),u=t(282),p=t(293),m=t(283),d=t.n(m),f=t(84),h=(t(578),t(45)),g=t(291),y=function(e){e.payload;var a=e.x,t=(e.y,e.width),n=(e.height,e.value);return r.a.createElement("text",Object(g.a)({x:a+t/2,y:450,dy:14,fill:"white",transform:"rotate(270 ".concat(a+t/2,", 450)"),fontSize:"40px"},"fill",function(e){switch(e){case"#feda00":case"#f99f29":case"#97d700":case"#aa8a00":case"#59cbe8":case"#ffa000":case"#fb7299":case"#2FB228":case"#c4c4c4":case"#67a2b2":return"black";default:return"white"}}(e.fill)),"".concat(n.toUpperCase()))},v=function(e){e.payload;var a=e.x,t=e.y,n=e.width,c=(e.height,e.value);return r.a.createElement("text",{x:a+n/2,y:t,fill:"#666",dy:-6,textAnchor:"middle"},"".concat(Math.round(c)))},E=function(e){var a=e.active,t=(e.label,e.payload);return a&&t?r.a.createElement("div",{className:"custom-tooltip"},r.a.createElement("p",{className:"label"},"".concat(t[0].payload.name)),r.a.createElement("p",{className:"desc"},"Team: ".concat(t[0].payload.team)),r.a.createElement("p",{className:"desc"},"Damage per 10m: ".concat(Math.round(t[0].value))),r.a.createElement("p",{className:"desc"},"Rank: ".concat(t[0].payload.rank))):null},_=function(e){var a=function(e){switch(e){case"DAL":return"#0072ce";case"PHI":return"#f99f29";case"HOU":return"#97d700";case"BOS":return"#174b97";case"NYE":return"#171c38";case"SFS":return"#fc4c02";case"VAL":return"#004438";case"GLA":return"#3c1053";case"FLA":return"#feda00";case"SHD":return"#d22630";case"SEO":return"#aa8a00";case"LDN":return"#59cbe8";case"CDH":return"#ffa000";case"HZS":return"#fb7299";case"PAR":return"#303d56";case"TOR":return"#000000";case"VAN":return"#2fb228";case"WAS":return"#990034";case"ATL":return"#c4c4c4";case"GZC":return"#67a2b2";default:return"red"}};return r.a.createElement(h.b,{width:600,height:500,data:e.data},r.a.createElement(h.f,{dataKey:"rank",tickSize:0,tickMargin:8}),r.a.createElement(h.g,{hide:!0,padding:{top:15},domain:[0,"dataMax"]}),r.a.createElement(h.e,{content:r.a.createElement(E,null)}),r.a.createElement(h.a,{dataKey:e.sortBy,fill:"black",label:r.a.createElement(v,null)},r.a.createElement(h.d,{dataKey:"name",content:r.a.createElement(y,null)}),e.data&&e.data.map(function(e,t){return r.a.createElement(h.c,{key:"cell-".concat(t),fill:a(e.team)})})))},D=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).getPlayerData=function(){d()("https://api.overwatchleague.com/stats/players",function(e,a,n){e&&console.log("Error: ",e);var r=JSON.parse(n).data;t.setState({playerData:r,pages:Math.ceil(r.length/10)},function(){return t.setTopDmg(t.state.playerData)})})},t.setTopDmg=function(e){e&&(e.sort(function(e,a){return a.hero_damage_avg_per_10m-e.hero_damage_avg_per_10m}),e=e.map(function(e,a){return e.rank=a+1,e}),t.setState({graphData:e.filter(function(e,a){return a<10}),header:"Top damage dealers",sortBy:"hero_damage_avg_per_10m",graphMax:e[0].hero_damage_avg_per_10m,pagination:1}))},t.setTopHealing=function(e){e&&(e.sort(function(e,a){return a.healing_avg_per_10m-e.healing_avg_per_10m}),e=e.map(function(e,a){return e.rank=a+1,e}),t.setState({graphData:e.filter(function(e,a){return a<10}),header:"Top healers",sortBy:"healing_avg_per_10m",pagination:1}))},t.handlePageSelect=function(e,a){if(a){var n;t.setState({graphData:(n=e,10*n>t.state.playerData.length?a.filter(function(e,a){return a>=t.state.playerData.length-10}):a.filter(function(e,a){return a>=10*n-10&&a<10*n})),pagination:e})}},t.state={playerData:[],graphData:[],sortBy:"",graphMax:0,header:"Loading...",pagination:1,pages:10},t}return Object(p.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getPlayerData()}},{key:"render",value:function(){var e=this;return r.a.createElement(f.Container,null,r.a.createElement("h1",null,"OWL Stats"),r.a.createElement("h2",null,this.state.header),r.a.createElement(_,{data:this.state.graphData,sortBy:this.state.sortBy}),r.a.createElement(f.Pagination,{activePage:this.state.pagination,maxButtons:10,items:this.state.pages,onSelect:function(a){return e.handlePageSelect(a,e.state.playerData)}}),r.a.createElement(f.Button,{onClick:function(){return e.setTopDmg(e.state.playerData)}},"Top dps"),r.a.createElement(f.Button,{onClick:function(){return e.setTopHealing(e.state.playerData)}},"Top healers"))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[320,1,2]]]);
//# sourceMappingURL=main.9c612aad.chunk.js.map